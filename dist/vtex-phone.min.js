/*! front-phone - v3.2.2 - git://github.com/vtex/front.phone.git */(function(){var a,b,c,d=function(a,b){return function(){return a.apply(b,arguments)}};c="undefined"!=typeof exports&&null!==exports?exports:this,b=function(){function a(a,b,c){this.valid=d(this.valid,this),this.countryCode=a,this.nationalDestinationCode=b,this.number=c,this.isMobile=null}return a.prototype.valid=function(a){return this.valid=a},a}(),a=function(){function a(){this.getCountryCodeByNameAbbr=d(this.getCountryCodeByNameAbbr,this),this.getCountryCodeByName=d(this.getCountryCodeByName,this),this.format=d(this.format,this),this.testNDC=d(this.testNDC,this),this.testCountryCode=d(this.testCountryCode,this),this.validate=d(this.validate,this),this.compact=d(this.compact,this),this.normalize=d(this.normalize,this),this.getPhoneInternational=d(this.getPhoneInternational,this),this.getPhoneNational=d(this.getPhoneNational,this),this.INTERNATIONAL=0,this.NATIONAL=1,this.LOCAL=2}return a.prototype.getPhoneNational=function(a,b,d){var e,f,g,h,i,j,k,l,m,n,o;if(null===a)return null;if(a=this.normalize(a),e=c.vtex.phone.countries[b],!e)return null;if(d)g=d,m=this.testNDC(g,e,a),f=m[0],h=m[1];else for(n=e.nationalDestinationCode,k=0,l=n.length;l>k&&(g=n[k],o=this.testNDC(g,e,a),f=o[0],h=o[1],f!==!0);k++);return f?(j=a.replace(h,""),i=e.specialRules(a,j,g),i?(i.valid(!0),i):null):null},a.prototype.getPhoneInternational=function(a,b,c){var d,e,f,g,h,i,j,k;if(null===a)return null;if(a=this.normalize(a),b)d=b,i=this.testCountryCode(d,a),g=i[0],e=i[1];else{j=vtex.phone.countries;for(d in j)if(f=j[d],k=this.testCountryCode(d,a),g=k[0],e=k[1],g===!0)break}return g?(h=a.replace(e,""),this.getPhoneNational(h,d,c)):null},a.prototype.normalize=function(a){return a.replace(/\ |\(|\)|\-|\.|[A-z]|\+/g,"")},a.prototype.compact=function(a){var b,c,d,e;for(c=[],d=0,e=a.length;e>d;d++)b=a[d],""!==b&&c.push(b);return c},a.prototype.validate=function(a,b){var c,d,e,f;if(null===a)return!1;if(a=this.normalize(a),b)return vtex.phone.countries[b].regex.test(a);e=!1,f=vtex.phone.countries;for(c in f)if(d=f[c],d.regex.test(a)){e=!0;break}return e},a.prototype.testCountryCode=function(a,b){var c;return c=new RegExp("^"+a),c.test(b)?[!0,c]:[!1,null]},a.prototype.testNDC=function(a,b,c){var d,e;return d="^("+b.optionalTrunkPrefix+"|)"+a,e=new RegExp(d),e.test(c)?[!0,e]:[!1,null]},a.prototype.format=function(a,b){var c,d,e;if(null==b&&(b=vtex.phone.INTERNATIONAL),null===a)return null;if(vtex.phone.countries[a.countryCode].format)return vtex.phone.countries[a.countryCode].format(a,b);switch(c="",e=vtex.phone.countries[a.countryCode].splitNumber(a.number),b){case vtex.phone.INTERNATIONAL:c="+"+a.countryCode+" ",a.nationalDestinationCode&&(c+=a.nationalDestinationCode+" "),c+=e.join(" ");break;case vtex.phone.NATIONAL:a.nationalDestinationCode&&(c+="("+a.nationalDestinationCode+") "),d=vtex.phone.countries[a.countryCode].nationalNumberSeparator,c+=e.join(d);break;case vtex.phone.LOCAL:d=vtex.phone.countries[a.countryCode].nationalNumberSeparator,c=e.join(d)}return c},a.prototype.getCountryCodeByName=function(a){var b,c,d;d=vtex.phone.countries;for(b in d)if(c=d[b],c.countryName===a)return c.countryCode},a.prototype.getCountryCodeByNameAbbr=function(a){var b,c,d;d=vtex.phone.countries;for(b in d)if(c=d[b],c.countryNameAbbr===a)return c.countryCode},a}(),c.vtex=c.vtex||{},c.vtex.phone=new a,c.vtex.phone.PhoneNumber=b}).call(this);